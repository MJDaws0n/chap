# Chap Server Environment Configuration
# Copy this file to .env and update values
#
# This file is for the SERVER (docker-compose.server.yml or docker-compose.yml)
# For NODE configuration, see node/.env.example

# Application
APP_NAME=Chap
APP_ENV=development
APP_DEBUG=true
APP_URL=http://localhost:8080
APP_SECRET=change_this_to_random_secret_key_at_least_32_characters

# Server Ports
APP_PORT=8080
WS_PORT=8081

# Database
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=chap
DB_USERNAME=chap
DB_PASSWORD=chap_secret
DB_ROOT_PASSWORD=chap_root_secret

# GitHub OAuth (optional)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=http://localhost:8080/auth/github/callback

# Session
SESSION_LIFETIME=120
SESSION_SECURE=false

# File Upload Limits
UPLOAD_MAX_SIZE=104857600

# Human verification (captcha)
# Provider: none | recaptcha | autogate
CAPTCHA_PROVIDER=none
CAPTCHA_THEME=dark

# Google reCAPTCHA (v2 checkbox)
RECAPTCHA_SITE_KEY=
RECAPTCHA_SECRET_KEY=

# AutoGate (https://autogate.mjdawson.net)
AUTOGATE_PUBLIC_KEY=
AUTOGATE_PRIVATE_KEY=

# Development only: Local node credentials
# (Used by docker-compose.yml which runs server + node together)
NODE_ID=dev-node
NODE_TOKEN=dev-token
CHAP_SERVER_URL=ws://server:8081

# Browser WebSocket Server (for live logs/deployment streams)
# This runs on the node and browsers connect directly to it
BROWSER_WS_PORT=6002
BROWSER_WS_HOST=0.0.0.0

# For production with SSL, provide cert paths:
# BROWSER_WS_SSL_CERT=/path/to/cert.pem
# BROWSER_WS_SSL_KEY=/path/to/key.pem