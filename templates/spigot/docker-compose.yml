services:
  minecraft:
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      MINECRAFT_VERSION: "${MINECRAFT_VERSION:-latest}"
      SERVER_JAR_URL: "${SERVER_JAR_URL:-}"
      MEMORY: "${MEMORY:-2G}"
      JAVA_EXTRA_ARGS: "${JAVA_EXTRA_ARGS:-}"
      EULA: "${EULA:-FALSE}"
    ports:
      - "${MINECRAFT_PORT:-25565}:25565"
    volumes:
      - minecraft-data:/data
    tty: true
    stdin_open: true
    restart: unless-stopped

volumes:
  minecraft-data: {}
